{
  "goal": "Begin refactoring apps/api notes routes to use feature data layers instead of local storage.",
  "non_goals": [
    "Refactor all 42+ API routes in a single change.",
    "Migrate persistence to database-backed storage (handled in TASK-014/TASK-015).",
    "Change API request/response contracts."
  ],
  "acceptance_criteria": [
    "Notes routes in apps/api delegate to a feature data layer.",
    "apps/api storage delegates note CRUD to the feature data layer.",
    "ADR documents the cross-module dependency."
  ],
  "approach": "Create a notes data layer in packages/features/notes/data and route notes CRUD through it, updating apps/api routes and storage to delegate to the feature layer.",
  "files_touched": [
    "apps/api/routes.ts",
    "apps/api/storage.ts",
    "packages/features/notes/data/index.ts",
    "docs/adr/ADR-0001.md",
    ".repo/logs/TASK-013-log-20260124-011517.json",
    ".repo/traces/TASK-013-trace-20260124-011512.json"
  ],
  "verification_plan": [
    "node .repo/automation/scripts/check-boundaries.js",
    "npm run lint"
  ],
  "risks": [
    "Feature data layers still rely on in-memory storage until TASK-014/TASK-015 migrate to database.",
    "Boundary enforcement requires ADR tracking for cross-module imports."
  ],
  "rollback_plan": "Revert to the previous storage-backed notes routes and remove the notes data layer if issues are found.",
  "hitl_requirements": [],
  "notes": "Filepaths required. No guessing. UNKNOWN â†’ HITL."
}
