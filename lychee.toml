# Lychee link checker configuration
# Prevents broken links in documentation

# Maximum number of concurrent network requests
max_concurrency = 8

# Accept status codes (200-299 by default)
accept = [200, 201, 204, 301, 302, 307, 308, 429]

# User agent string
user_agent = "Mozilla/5.0 (compatible; LycheeBot/1.0)"

# Exclude patterns (regex)
exclude = [
  # Exclude localhost and private IPs
  "http://localhost.*",
  "http://127\\.0\\.0\\.1.*",
  "http://0\\.0\\.0\\.0.*",
  "http://192\\.168\\..*",
  "http://10\\..*",
  
  # Exclude example domains
  "https?://example\\.com.*",
  "https?://example\\.org.*",
  
  # Exclude LinkedIn (blocks automated checks)
  "https?://.*linkedin\\.com.*",
  
  # Exclude links that require authentication
  "https?://.*\\.atlassian\\.net.*",
  
  # Exclude template placeholder links (e.g., [related-api].md, NNNN-title.md)
  ".*\\[.*\\]\\.md",
  ".*NNNN-.*\\.md",
  ".*XXXX-.*\\.md",
  ".*\\[.*\\]",
  ".*#feature-name",
  ".*#.*-name$",
]

# Exclude specific URL patterns
exclude_path = [
  "node_modules",
  ".git",
  ".github/workflows",
  "build",
  "dist",
  ".expo",
  "coverage",
  "docs/archive",
  "attached_assets",
  "docs/.templates",
  "docs/product/prd_template.md",
]

# Cache settings
max_cache_age = "1d"  # 1 day

# Timeout for requests (increased for rate-limited sites)
timeout = 30

# Retry failed requests (increased for reliability)
max_retries = 5

# Include email addresses
include_mail = false

# Skip HTTPS certificate verification (not recommended in production)
insecure = false

# Check fragments/anchors on HTML pages
include_fragments = true

# Base URL for relative links (comment out to use file location)
# base_url = ""

# Headers to send with requests
headers = []

# Skip private repositories
skip_missing = false
