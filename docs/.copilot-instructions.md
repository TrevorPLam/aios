# Docs Directory Instructions

**Path:** `/docs`
**Purpose:** Project documentation following Diátaxis framework
**Agent Role:** Primary (GitHub Copilot)

---

## Quick Reference

### Before making changes, read

- [BESTPR.md](../BESTPR.md) - Token-optimized best practices guide
- [Constitution](../docs/governance/constitution.md) - Core laws and governance
- [Docs Laws](../.github/instructions/docs.instructions.md) - Documentation-specific rules
- [Style Guide](STYLE_GUIDE.md) - Voice and tone

---

## Directory Structure (Diátaxis Framework)

```text
docs/
├── diataxis/tutorials/      # Learning-oriented (step-by-step)
├── operations/runbooks/      # Task-oriented (how-to guides)
├── apis/                     # Reference (facts, API docs)
├── modules/                  # Reference (module documentation)
├── architecture/             # Explanation (understanding)
├── decisions/                # ADRs (Architecture Decision Records)
├── governance/               # Constitution, state
├── security/                 # Security policies
├── testing/                  # Test documentation
├── ai/                       # AI agent policies
└── archive/                  # Deprecated docs (never delete)
```text

---

## Required Document Sections

### EVERY document must include
1. **Plain English Summary** (5-12 bullets, non-technical)
2. **Technical Detail** (structured content)
3. **Assumptions** (explicit prerequisites)
4. **Failure Modes** (what breaks, symptoms, solutions)
5. **How to Verify** (runnable commands)

---

## Key Patterns

### 1. Document Template

```markdown
# Document Title

## Plain English Summary

- Bullet point 1 (non-technical)
- Bullet point 2
- [5-12 bullets total]

## Technical Detail

### Section 1
Content with file paths: `client/App.tsx:15-20`

### Section 2
More content...

## Assumptions

- Prerequisite 1
- Prerequisite 2

## Failure Modes

| Failure | Symptom | Solution |
| --------- | --------- | ---------- |
| Mode 1 | What breaks | How to fix |

## How to Verify

\`\`\`bash
# Runnable command
npm test
\`\`\`
```text

### 2. Link Discipline

```markdown
✅ DO: Use relative links
[Contributing](../CONTRIBUTING.md)
[ADR 003](decisions/003-jwt-auth.md)

❌ DON'T: Use absolute GitHub URLs
[Bad](https://github.com/user/repo/blob/main/CONTRIBUTING.md)
```text

### 3. Voice & Style

```markdown
✅ DO: Active voice, specific, evidence-based
"Run `npm test` to verify tests pass in `client/__tests__/`"

❌ DON'T: Passive voice, vague, marketing
"Tests can be run to make sure everything works amazingly"
```text

### 4. Code Examples

```markdown
✅ DO: Include runnable examples with file paths
\`\`\`typescript
// client/components/Button.tsx:10-15
const Button = ({ title, onPress }: Props) => {
  return <ThemedView>...</ThemedView>
}
\`\`\`

❌ DON'T: Vague pseudocode
"Create a button component somehow"
```text

---

## Diátaxis Categories

### Tutorials (Learning)

- Step-by-step instructions
- Learning-oriented
- Beginners can follow
- Example: "Getting Started with AIOS"

### How-to Guides (Tasks)

- Solve specific problems
- Task-oriented
- Assumes knowledge
- Example: "How to Add a New Module"

### Reference (Facts)

- Technical descriptions
- Information-oriented
- API documentation
- Example: "API Endpoints Reference"

### Explanation (Understanding)

- Clarification and discussion
- Understanding-oriented
- Architecture, decisions
- Example: "Why We Use JWT Authentication"

---

## Architecture Decision Records (ADRs)

### Template

```markdown
# ADR-XXX: Title

 **Status:** Proposed | Accepted | Deprecated | Superseded
**Date:** YYYY-MM-DD

## Context
What is the issue we're facing?

## Decision
What did we decide?

## Consequences
What are the trade-offs?

## Alternatives Considered
What else did we consider?
```text

**Location:** `docs/decisions/`

---

## Critical Rules

1. **Diátaxis Framework:** Mandatory categorization
2. **Required Sections:** Plain English Summary + 4 others
3. **Evidence-Based:** Cite file paths and line numbers
4. **Relative Links:** No absolute GitHub URLs
5. **Active Voice:** Clear, specific, actionable
6. **No Doc Landfill:** Archive old docs, never delete
7. **Vale Linting:** Must pass prose checks
8. **Markdownlint:** Must pass formatting checks

---

## Documentation Checklist

- [ ] Read [BESTPR.md](../BESTPR.md)
- [ ] Plain English Summary included
- [ ] Technical Detail with file paths
- [ ] Assumptions documented
- [ ] Failure Modes listed
- [ ] Verification commands provided
- [ ] Relative links used (no absolute URLs)
- [ ] Active voice, specific examples
- [ ] Vale linting passes
- [ ] Markdownlint passes
- [ ] Categorized correctly (Diátaxis)

---

## Archiving Old Documents

```bash
# When deprecating a document
1. Move to docs/archive/
2. Add deprecation notice at top:
   "**DEPRECATED:** This document is outdated. See [new doc](../path.md)"
3. Update all references
4. Never delete (history is valuable)
```text

---

## Before Committing

- [ ] Read [BESTPR.md](../BESTPR.md)
- [ ] All required sections included
- [ ] File paths and line numbers cited
- [ ] Relative links used
- [ ] Active voice
- [ ] Vale passes: `vale docs/`
- [ ] Markdownlint passes
- [ ] Links validated
- [ ] Proper Diátaxis category

---

### See [BESTPR.md](../BESTPR.md) for comprehensive best practices
